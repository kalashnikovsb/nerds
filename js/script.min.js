"use strict";const slides=document.querySelectorAll(".slider__item"),sliderControls=document.querySelectorAll(".slider__control-item"),hiddenClassName="visually-hidden",activeControlClassName="slider__control-item--active",popup=document.querySelector(".popup"),form=popup.querySelector(".popup__form"),openPopupButton=document.querySelector(".contacts__button"),closePopupButton=document.querySelector(".popup__close"),inputName=popup.querySelector("[name=your-name]"),inputEmail=popup.querySelector("[name=your-email]"),inputText=popup.querySelector(".popup__textarea"),nameStorage=localStorage.getItem("name"),emailStorage=localStorage.getItem("email"),clearClassNames=(t,a)=>{for(let e=0;e<t.length;e++)t[e].classList.contains(a)&&t[e].classList.remove(a)},setClassName=(e,t)=>{e.classList.add(t)},switchHiddenElements=(t,a,o)=>{for(let e=0;e<t.length;e++)e!==a&&t[e].classList.add(o)};sliderControls.forEach((t,a)=>{t.addEventListener("click",e=>{e.preventDefault(),clearClassNames(slides,hiddenClassName),clearClassNames(sliderControls,activeControlClassName),setClassName(t,activeControlClassName),switchHiddenElements(slides,a,hiddenClassName)})});const openPopup=()=>{popup.classList.remove(hiddenClassName),closePopupButton.addEventListener("click",closePopup),nameStorage&&emailStorage?(inputName.value=nameStorage,inputEmail.value=emailStorage,inputText.focus()):nameStorage?(inputName.value=nameStorage,inputEmail.focus()):inputName.focus()},closePopup=()=>{popup.classList.add(hiddenClassName),openPopupButton.addEventListener("click",openPopup)};openPopupButton.addEventListener("click",e=>{e.preventDefault(),openPopup()}),window.addEventListener("keydown",e=>{popup.classList.contains(hiddenClassName)||"Escape"!==e.code||popup.classList.add(hiddenClassName)}),form.addEventListener("submit",e=>{e.preventDefault(),inputName.value&&(localStorage.setItem("name",inputName.value),inputEmail.focus()),inputName.value&&inputEmail.value&&(localStorage.setItem("name",inputName.value),localStorage.setItem("email",inputEmail.value),inputText.focus()),console.log(inputName.value),console.log(inputEmail.value),console.log(inputText.value)});